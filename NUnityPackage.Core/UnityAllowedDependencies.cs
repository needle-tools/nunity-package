using System;
using System.Collections.Generic;
using System.Linq;

namespace NUnityPackage.Core
{
	public static class UnityAllowedDependencies
	{
		public static bool IsAllowed(string name, string version)
		{
			bool _IsAllowed(IEnumerable<string> col) => !col.Any(e => e.Equals(name, StringComparison.OrdinalIgnoreCase));

			if (!_IsAllowed(invalidAssemblies)) return false;
			if (!_IsAllowed(additionalInvalidAssemblies)) return false;
			return true;
		}

		private static readonly string[] additionalInvalidAssemblies =
		{
			"system.memory",
			"system.buffers",
			"system.runtime.compilerservices.unsafe"
		};

		private static readonly string[] invalidAssemblies =
		{
			"Accessibility",
			"Commons.Xml.Relaxng",
			"cscompmgd",
			"CustomMarshalers",
			"I18N.CJK",
			"I18N",
			"I18N.MidEast",
			"I18N.Other",
			"I18N.Rare",
			"I18N.West",
			"IBM.Data.DB2",
			"ICSharpCode.SharpZipLib",
			"Microsoft.Build",
			"Microsoft.Build.Engine",
			"Microsoft.Build.Framework",
			"Microsoft.Build.Tasks.v4.0",
			"Microsoft.Build.Utilities.v4.0",
			"Microsoft.CSharp",
			"Microsoft.VisualBasic",
			"Microsoft.VisualC",
			"Microsoft.Web.Infrastructure",
			"Mono.C5",
			"Mono.Cairo",
			"Mono.CodeContracts",
			"Mono.CompilerServices.SymbolWriter",
			"Mono.CSharp",
			"Mono.Data.Sqlite",
			"Mono.Data.Tds",
			"Mono.Debugger.Soft",
			"Mono.Http",
			"Mono.Management",
			"Mono.Messaging",
			"Mono.Messaging.RabbitMQ",
			"Mono.Options",
			"Mono.Parallel",
			"Mono.Posix",
			"Mono.Security",
			"Mono.Security.Win32",
			"Mono.Simd",
			"Mono.Tasklets",
			"Mono.WebBrowser",
			"mscorlib",
			"Novell.Directory.Ldap",
			"PEAPI",
			"RabbitMQ.Client",
			"SMDiagnostics",
			"System.ComponentModel.Composition",
			"System.ComponentModel.DataAnnotations",
			"System.Configuration",
			"System.Configuration.Install",
			"System.Core",
			"System.Data.DataSetExtensions",
			"System.Data",
			"System.Data.Entity",
			"System.Data.Linq",
			"System.Data.OracleClient",
			"System.Data.Services.Client",
			"System.Data.Services",
			"System.Deployment",
			"System.Design",
			"System.Diagnostics.Tracing",
			"System.DirectoryServices",
			"System.DirectoryServices.Protocols",
			"System",
			"System.Drawing.Design",
			"System.Drawing",
			"System.Dynamic",
			"System.EnterpriseServices",
			"System.IdentityModel",
			"System.IdentityModel.Selectors",
			"System.IO.Compression",
			"System.IO.Compression.FileSystem",
			"System.Json",
			"System.Json.Microsoft",
			"System.Management",
			"System.Messaging",
			"System.Net",
			"System.Net.Http",
			"System.Net.Http.Formatting",
			"System.Net.Http.WebRequest",
			"System.Numerics",
			"System.Numerics.Vectors",
			"System.Reactive.Core",
			"System.Reactive.Debugger",
			"System.Reactive.Experimental",
			"System.Reactive.Interfaces",
			"System.Reactive.Linq",
			"System.Reactive.Observable.Aliases",
			"System.Reactive.PlatformServices",
			"System.Reactive.Providers",
			"System.Reactive.Runtime.Remoting",
			"System.Reactive.Windows.Forms",
			"System.Reactive.Windows.Threading",
			"System.Reflection.Context",
			"System.Runtime.Caching",
			"System.Runtime.DurableInstancing",
			"System.Runtime.Remoting",
			"System.Runtime.Serialization",
			"System.Runtime.Serialization.Formatters.Soap",
			"System.Security",
			"System.ServiceModel.Activation",
			"System.ServiceModel.Discovery",
			"System.ServiceModel",
			"System.ServiceModel.Routing",
			"System.ServiceModel.Web",
			"System.ServiceProcess",
			"System.Threading.Tasks.Dataflow",
			"System.Transactions",
			"System.Web.Abstractions",
			"System.Web.ApplicationServices",
			"System.Web",
			"System.Web.DynamicData",
			"System.Web.Extensions.Design",
			"System.Web.Extensions",
			"System.Web.Http",
			"System.Web.Http.SelfHost",
			"System.Web.Http.WebHost",
			"System.Web.Mobile",
			"System.Web.Mvc",
			"System.Web.Razor",
			"System.Web.RegularExpressions",
			"System.Web.Routing",
			"System.Web.Services",
			"System.Web.WebPages.Deployment",
			"System.Web.WebPages",
			"System.Web.WebPages.Razor",
			"System.Windows",
			"System.Windows.Forms.DataVisualization",
			"System.Windows.Forms",
			"System.Workflow.Activities",
			"System.Workflow.ComponentModel",
			"System.Workflow.Runtime",
			"System.Xaml",
			"System.Xml",
			"System.Xml.Linq",
			"System.Xml.Serialization",
			"WebMatrix.Data",
			"WindowsBase",
			"Microsoft.Win32.Primitives",
			"netstandard",
			"System.AppContext",
			"System.Collections.Concurrent",
			"System.Collections",
			"System.Collections.NonGeneric",
			"System.Collections.Specialized",
			"System.ComponentModel.Annotations",
			"System.ComponentModel",
			"System.ComponentModel.EventBasedAsync",
			"System.ComponentModel.Primitives",
			"System.ComponentModel.TypeConverter",
			"System.Console",
			"System.Data.Common",
			"System.Diagnostics.Contracts",
			"System.Diagnostics.Debug",
			"System.Diagnostics.FileVersionInfo",
			"System.Diagnostics.Process",
			"System.Diagnostics.StackTrace",
			"System.Diagnostics.TextWriterTraceListener",
			"System.Diagnostics.Tools",
			"System.Diagnostics.TraceSource",
			"System.Drawing.Primitives",
			"System.Dynamic.Runtime",
			"System.Globalization.Calendars",
			"System.Globalization",
			"System.Globalization.Extensions",
			"System.IO.Compression.ZipFile",
			"System.IO",
			"System.IO.FileSystem",
			"System.IO.FileSystem.DriveInfo",
			"System.IO.FileSystem.Primitives",
			"System.IO.FileSystem.Watcher",
			"System.IO.IsolatedStorage",
			"System.IO.MemoryMappedFiles",
			"System.IO.Pipes",
			"System.IO.UnmanagedMemoryStream",
			"System.Linq",
			"System.Linq.Expressions",
			"System.Linq.Parallel",
			"System.Linq.Queryable",
			"System.Net.Http.Rtc",
			"System.Net.NameResolution",
			"System.Net.NetworkInformation",
			"System.Net.Ping",
			"System.Net.Primitives",
			"System.Net.Requests",
			"System.Net.Security",
			"System.Net.Sockets",
			"System.Net.WebHeaderCollection",
			"System.Net.WebSockets.Client",
			"System.Net.WebSockets",
			"System.ObjectModel",
			"System.Reflection",
			"System.Reflection.Emit",
			"System.Reflection.Emit.ILGeneration",
			"System.Reflection.Emit.Lightweight",
			"System.Reflection.Extensions",
			"System.Reflection.Primitives",
			"System.Resources.Reader",
			"System.Resources.ResourceManager",
			"System.Resources.Writer",
			"System.Runtime.CompilerServices.VisualC",
			"System.Runtime",
			"System.Runtime.Extensions",
			"System.Runtime.Handles",
			"System.Runtime.InteropServices",
			"System.Runtime.InteropServices.RuntimeInformation",
			"System.Runtime.InteropServices.WindowsRuntime",
			"System.Runtime.Numerics",
			"System.Runtime.Serialization.Formatters",
			"System.Runtime.Serialization.Json",
			"System.Runtime.Serialization.Primitives",
			"System.Runtime.Serialization.Xml",
			"System.Security.Claims",
			"System.Security.Cryptography.Algorithms",
			"System.Security.Cryptography.Csp",
			"System.Security.Cryptography.Encoding",
			"System.Security.Cryptography.Primitives",
			"System.Security.Cryptography.X509Certificates",
			"System.Security.Principal",
			"System.Security.SecureString",
			"System.ServiceModel.Duplex",
			"System.ServiceModel.Http",
			"System.ServiceModel.NetTcp",
			"System.ServiceModel.Primitives",
			"System.ServiceModel.Security",
			"System.Text.Encoding",
			"System.Text.Encoding.Extensions",
			"System.Text.RegularExpressions",
			"System.Threading",
			"System.Threading.Overlapped",
			"System.Threading.Tasks",
			"System.Threading.Tasks.Parallel",
			"System.Threading.Thread",
			"System.Threading.ThreadPool",
			"System.Threading.Timer",
			"System.ValueTuple",
			"System.Xml.ReaderWriter",
			"System.Xml.XDocument",
			"System.Xml.XmlDocument",
			"System.Xml.XmlSerializer",
			"System.Xml.XPath",
			"System.Xml.XPath.XDocument"
		};
	}
}